/*
 Project: GmapRS - google map for WordPress IP Geo Block
 Description: A really simple google map plugin based on jQuery-boilerplate.
 Version: 0.2.4
 Copyright (c) 2013-2018 tokkonopapa (tokkonopapa@yahoo.com)
 This software is released under the MIT License.
*/
function gm_authFailure(){jQuery(window).trigger("ip-geo-block-gmap-error")}(function(f){f(function(e){if("undefined"!==typeof google){var f={zoom:2,latitude:0,longitude:0},d=google.maps,g=function(a){this.o=e.extend({},f);this.q=[]};g.prototype={init:function(a){e.extend(this.o,a);this.c=new d.LatLng(this.o.latitude,this.o.longitude);this.m=new d.Map(this.e.get(0),{zoom:this.o.zoom,center:this.c,mapTypeId:d.MapTypeId.ROADMAP})},destroy:function(){this.deleteMarkers();this.e.data("plugin_GmapRS",null)},setCenter:function(){if(2<=arguments.length){var a=new d.LatLng(this.o.latitude=arguments[0],this.o.longitude=arguments[1]);delete this.c;this.c=a}this.m.setCenter(this.c);return this.e},setZoom:function(a){this.m.setZoom(a||this.o.zoom);return this.e},showMarker:function(a,b){var c=this.q[a];c&&c.w&&(!1===b?c.w.close():c.w.open(this.m,c.m))},addMarker:function(a){var b=new d.LatLng(a.latitude||this.o.latitude,a.longitude||this.o.longitude);var c=new d.Marker({position:b,map:this.m,title:a.title||""});if(a.content){var e=new d.InfoWindow({content:a.content});d.event.addListener(c,"click",function(){e.open(c.getMap(),c)})}this.q.push({p:b,w:e,m:c});this.m.setCenter(b);this.m.setZoom(a.zoom);a.show&&this.showMarker(this.q.length-1);return this.e},deleteMarkers:function(){var a;for(a in this.q)if(this.q.hasOwnProperty(a)){var b=this.q[a];b.m.setMap(null)}this.q.length=0;return this.e}};e.fn.GmapRS=function(a){this.data("plugin_GmapRS")instanceof g||this.data("plugin_GmapRS",new g(this));var b=this.data("plugin_GmapRS");b.e=this;if("undefined"===typeof a||"object"===typeof a)"function"===typeof b.init&&b.init(a);else{if("string"===typeof a&&"function"===typeof b[a]){var c=Array.prototype.slice.call(arguments,1);return b[a].apply(b,c)}e.error("Method "+a+" does not exist.GmapRS")}}}})})(jQuery);